@startuml UmrahTravelAgent_Sequence

actor Pilgrim
participant Agent
participant Package
participant Event
participant Transport
participant Hotel
participant Room
participant Reservation
participant Alert

== Booking Flow ==

Pilgrim -> Agent : Request Umrah package
Agent -> Package : Create package (linked to Event)
Package -> Event : Associate with group program
Package -> Transport : Assign transport(s)
Package -> Hotel : Assign hotel(s)

Agent -> Reservation : Create reservation for Pilgrim
Reservation -> Room : Reserve room in hotel
Reservation -> Package : Link reservation to package

Reservation -> Pilgrim : Confirm booking details
Pilgrim -> Reservation : Make payment (montantPaye)
Reservation -> Pilgrim : Show remaining balance (totalPrix - montantPaye)

== Alerts Flow ==

Reservation -> Alert : Generate alert (payment, travel info)
Alert -> Pilgrim : Notify pilgrim

@enduml